/*! For license information please see stockfish.js.LICENSE.txt */
var Stockfish;function INIT_ENGINE(){var e,t=(e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(e=e||__filename),function(t){var n,r,a,o,i;t=t||{},n||(n=void 0!==t?t:{}),n.ready=new Promise((function(e,t){r=e,a=t})),"undefined"==typeof XMLHttpRequest&&(global.XMLHttpRequest=function(){var e,t={open:function(t,n){e=n},send:function(){require("fs").readFile(e,(function(e,n){t.readyState=4,e?(console.error(e),t.status=404,t.onerror(e)):(t.status=200,t.response=n,t.onreadystatechange(),t.onload())}))}};return t}),n.postCustomMessage=function(e){for(var t of ge.ya)t.postMessage({cmd:"custom",userData:e})},n.queue=(i=[],{get:async function(){return 0<i.length?i.shift():await new Promise((function(e){return o=e}))},put:function(e){o?(o(e),o=null):i.push(e)}}),n.onCustomMessage=function(e){s?u.push(e):n.queue.put(e)};var s,u=[];n.pauseQueue=function(){s=!0},n.unpauseQueue=function(){var e=u;u=[],s=!1,e.forEach((function(e){n.queue.put(e)}))},n.postMessage=n.postCustomMessage;var c=[];n.addMessageListener=function(e){c.push(e)},n.removeMessageListener=function(e){0<=(e=c.indexOf(e))&&c.splice(e,1)},n.print=n.printErr=function(e){if(0===c.length)return console.log(e);for(var t of c)t(e)},n.terminate=function(){ge.Ra()};var f,l={};for(f in n)n.hasOwnProperty(f)&&(l[f]=n[f]);var d=[],p="./this.program";function m(e,t){throw t}var h,_,y,v,g="object"==typeof window,w="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,E=n.ENVIRONMENT_IS_PTHREAD||!1,A="";function x(e){return n.locateFile?n.locateFile(e,A):A+e}if(b){var S;A=w?require("path").dirname(A)+"/":__dirname+"/",h=function(e,t){return y||(y=require("fs")),v||(v=require("path")),e=v.normalize(e),y.readFileSync(e,t?null:"utf8")},_=function(e){return(e=h(e,!0)).buffer||(e=new Uint8Array(e)),N(e.buffer),e},1<process.argv.length&&(p=process.argv[1].replace(/\\/g,"/")),d=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof Gt))throw e})),process.on("unhandledRejection",le),m=function(e,t){if(re())throw process.exitCode=e,t;process.exit(e)},n.inspect=function(){return"[Emscripten Module object]"};try{S=require("worker_threads")}catch(i){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),i}global.Worker=S.Worker}else(g||w)&&(w?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),e&&(A=e),A=0!==A.indexOf("blob:")?A.substr(0,A.lastIndexOf("/")+1):"",b?(h=function(e,t){return y||(y=require("fs")),v||(v=require("path")),e=v.normalize(e),y.readFileSync(e,t?null:"utf8")},_=function(e){return(e=h(e,!0)).buffer||(e=new Uint8Array(e)),N(e.buffer),e}):(h=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},w&&(_=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})));b&&"undefined"==typeof performance&&(global.performance=require("perf_hooks").performance);var M,I,k=n.print||console.log.bind(console),T=n.printErr||console.warn.bind(console);for(f in l)l.hasOwnProperty(f)&&(n[f]=l[f]);l=null,n.arguments&&(d=n.arguments),n.thisProgram&&(p=n.thisProgram),n.quit&&(m=n.quit),n.wasmBinary&&(I=n.wasmBinary);var D=n.noExitRuntime||!0;"object"!=typeof WebAssembly&&le("no native wasm support detected");var C,O,F,R=!1;function N(e,t){e||le("Assertion failed: "+t)}function j(e){var t=new TextDecoder(e);this.decode=function(e){return e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode.call(t,e)}}var U,P,L,B,q,W,H,Y="undefined"!=typeof TextDecoder?new j("utf8"):void 0;function G(e,t,n){var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.subarray&&Y)return Y.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function V(e){return e?G(L,e,void 0):""}function z(e,t,n,r){if(0<r){r=n+r-1;for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),127>=o){if(n>=r)break;t[n++]=o}else{if(2047>=o){if(n+1>=r)break;t[n++]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;t[n++]=224|o>>12}else{if(n+3>=r)break;t[n++]=240|o>>18,t[n++]=128|o>>12&63}t[n++]=128|o>>6&63}t[n++]=128|63&o}}t[n]=0}}function Q(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),127>=r?++t:t=2047>=r?t+2:65535>=r?t+3:t+4}return t}function K(e){var t=Q(e)+1,n=jt(t);return z(e,P,n,t),n}"undefined"!=typeof TextDecoder&&new j("utf-16le"),E&&(U=n.buffer);var X=n.INITIAL_MEMORY||1073741824;if(E)C=n.wasmMemory,U=n.buffer;else if(n.wasmMemory)C=n.wasmMemory;else if(!((C=new WebAssembly.Memory({initial:X/65536,maximum:X/65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw T("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),b&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");C&&(U=C.buffer),X=U.byteLength;var J=U;U=J,n.HEAP8=P=new Int8Array(J),n.HEAP16=new Int16Array(J),n.HEAP32=q=new Int32Array(J),n.HEAPU8=L=new Uint8Array(J),n.HEAPU16=B=new Uint16Array(J),n.HEAPU32=W=new Uint32Array(J),n.HEAPF32=new Float32Array(J),n.HEAPF64=H=new Float64Array(J);var Z=[],$=[],ee=[],te=[],ne=0;function re(){return D||0<ne}function ae(){var e=n.preRun.shift();Z.unshift(e)}var oe,ie=0,se=null,ue=null;function ce(){ie++,n.monitorRunDependencies&&n.monitorRunDependencies(ie)}function fe(){if(ie--,n.monitorRunDependencies&&n.monitorRunDependencies(ie),0==ie&&(null!==se&&(clearInterval(se),se=null),ue)){var e=ue;ue=null,e()}}function le(e){throw n.onAbort&&n.onAbort(e),N(!E),T(e),R=!0,F=1,e=new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info."),a(e),e}function de(){return oe.startsWith("data:application/octet-stream;base64,")}function pe(){var e=oe;try{if(e==oe&&I)return new Uint8Array(I);if(_)return _(e);throw"both async and sync fetching of the wasm failed"}catch(e){le(e)}}n.preloadedImages={},n.preloadedAudios={},oe="stockfish.wasm",de()||(oe=x(oe));var me={27709:function(){throw"Canceled!"}};function he(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t(n);else{var r=t.Va;"number"==typeof r?void 0===t.Da?qt.call(null,r):Lt.apply(null,[r,t.Da]):r(void 0===t.Da?null:t.Da)}}}function _e(e,t){if(0>=e||e>P.length||1&e||0>t)return-28;if(0==t)return 0;2147483647<=t&&(t=1/0);var n=Atomics.load(q,Yt>>2),r=0;if(n==e&&Atomics.compareExchange(q,Yt>>2,n,0)==n&&(r=1,0>=--t))return 1;if(0<=(e=Atomics.notify(q,e>>2,t)))return e+r;throw"Atomics.notify returned an unexpected value "+e}function ye(e){if(E)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in cleanupThread!";var t=ge.wa[e];t&&(q[e+12>>2]=0,ge.Ka(t.worker))}n._emscripten_futex_wake=_e;var ve,ge={za:[],ya:[],Ta:[],Db:function(){},gb:function(){for(var e=wt(228),t=0;57>t;++t)W[e/4+t]=0;q[e+12>>2]=e,q[(t=e+152)>>2]=t;var n=wt(512);for(t=0;128>t;++t)W[n/4+t]=0;Atomics.store(W,e+100>>2,n),Atomics.store(W,e+40>>2,e),Dt(e,!w,1),bt(e)},hb:function(){ge.receiveObjectTransfer=ge.kb,ge.threadInit=ge.pb,ge.threadCancel=ge.ob,ge.threadExit=ge.$a,ge.setExitStatus=ge.mb},wa:{},Sa:[],Ya:function(){for(;0<ge.Sa.length;)ge.Sa.pop()();Ft()},Za:function(e,t){Atomics.store(W,e+56>>2,1),Atomics.store(W,e+60>>2,0),ge.Ya(),Atomics.store(W,e+4>>2,t),Atomics.store(W,e+0>>2,1),_e(e+0,2147483647),Dt(0,0,0)},mb:function(e){F=e},$a:function(e){var t=kt();t&&(ge.Za(t,e),E&&postMessage({cmd:"exit"}))},ob:function(){ge.Za(kt(),-1),postMessage({cmd:"cancelDone"})},Ra:function(){for(var e in ge.wa){var t=ge.wa[e];t&&t.worker&&ge.Ka(t.worker)}for(ge.wa={},e=0;e<ge.za.length;++e){var n=ge.za[e];n.terminate()}for(ge.za=[],e=0;e<ge.ya.length;++e)t=(n=ge.ya[e]).va,ge.Pa(t),n.terminate();ge.ya=[]},Pa:function(e){if(e){if(e.xa){var t=q[e.xa+100>>2];q[e.xa+100>>2]=0,gt(t),gt(e.xa)}e.xa=0,e.Oa&&e.Aa&&gt(e.Aa),e.Aa=0,e.worker&&(e.worker.va=null)}},Ka:function(e){ge.lb((function(){delete ge.wa[e.va.xa],ge.za.push(e),ge.ya.splice(ge.ya.indexOf(e),1),ge.Pa(e.va),e.va=void 0}))},lb:function(e){q[Ht>>2]=0;try{e()}finally{q[Ht>>2]=1}},kb:function(){},pb:function(){for(var e in ge.Ta)ge.Ta[e]()},ib:function(t,r){t.onmessage=function(e){var n=e.data,a=n.cmd;if(t.va&&(ge.bb=t.va.xa),n.targetThread&&n.targetThread!=kt()){var o=ge.wa[n.Ib];o?o.worker.postMessage(e.data,n.transferList):T('Internal error! Worker sent a message "'+a+'" to target pthread '+n.targetThread+", but that thread no longer exists!")}else if("processQueuedMainThreadWork"===a)xt();else if("spawnThread"===a)we(e.data);else if("cleanupThread"===a)ye(n.thread);else if("killThread"===a){if(e=n.thread,E)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in killThread!";q[e+12>>2]=0,n=ge.wa[e],delete ge.wa[e],n.worker.terminate(),ge.Pa(n),ge.ya.splice(ge.ya.indexOf(n.worker),1),n.worker.va=void 0}else if("cancelThread"===a){if(e=n.thread,E)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in cancelThread!";ge.wa[e].worker.postMessage({cmd:"cancel"})}else if("loaded"===a)t.loaded=!0,r&&r(t),t.Ea&&(t.Ea(),delete t.Ea);else if("print"===a)k("Thread "+n.threadId+": "+n.text);else if("printErr"===a)T("Thread "+n.threadId+": "+n.text);else if("alert"===a)alert("Thread "+n.threadId+": "+n.text);else if("exit"===a)t.va&&Atomics.load(W,t.va.xa+64>>2)&&ge.Ka(t);else if("exitProcess"===a)try{zt(n.returnCode)}catch(e){if(e instanceof Gt)return;throw e}else"cancelDone"===a?ge.Ka(t):"objectTransfer"!==a&&("setimmediate"===e.data.target?t.postMessage(e.data):T("worker sent an unknown command "+a));ge.bb=void 0},t.onerror=function(e){T("pthread sent an error! "+e.filename+":"+e.lineno+": "+e.message)},b&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("exit",(function(){}))),t.postMessage({cmd:"load",urlOrBlob:n.mainScriptUrlOrBlob||e,wasmMemory:C,wasmModule:O})},ab:function(){var e=x("stockfish.worker.js");ge.za.push(new Worker(e))},eb:function(){return 0==ge.za.length&&(ge.ab(),ge.ib(ge.za[0])),ge.za.pop()},wb:function(e){for(e=performance.now()+e;performance.now()<e;);}};function we(e){if(E)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var t=ge.eb();if(!t)return 6;if(void 0!==t.va)throw"Internal error!";if(!e.Ja)throw"Internal error, no pthread ptr!";ge.ya.push(t);for(var n=wt(512),r=0;128>r;++r)q[n+4*r>>2]=0;var a=e.Aa+e.Ba,o=(r=ge.wa[e.Ja]={worker:t,Aa:e.Aa,Ba:e.Ba,Oa:e.Oa,xa:e.Ja}).xa>>2;Atomics.store(W,o+16,e.detached),Atomics.store(W,o+25,n),Atomics.store(W,o+10,r.xa),Atomics.store(W,o+20,e.Ba),Atomics.store(W,o+19,a),Atomics.store(W,o+26,e.Ba),Atomics.store(W,o+28,a),Atomics.store(W,o+29,e.detached),n=Ot()+40,Atomics.store(W,o+43,n),t.va=r;var i={cmd:"run",start_routine:e.nb,arg:e.Da,threadInfoStruct:e.Ja,stackBase:e.Aa,stackSize:e.Ba};return t.Ea=function(){i.time=performance.now(),t.postMessage(i,e.ub)},t.loaded&&(t.Ea(),delete t.Ea),0}function be(e,t,n){if(0>=e||e>P.length||1&e)return-28;if(g){if(Atomics.load(q,e>>2)!=t)return-6;var r=performance.now();for(n=r+n,Atomics.exchange(q,Yt>>2,e);;){if((r=performance.now())>n)return Atomics.exchange(q,Yt>>2,0),-73;if(0==(r=Atomics.exchange(q,Yt>>2,0)))break;if(xt(),Atomics.load(q,e>>2)!=t)return-6;Atomics.exchange(q,Yt>>2,e)}return 0}if("timed-out"===(e=Atomics.wait(q,e>>2,t,n)))return-73;if("not-equal"===e)return-6;if("ok"===e)return 0;throw"Atomics.wait returned an unexpected value "+e}function Ee(){b||w||(M||(M={}),M["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]||(M["Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"]=1,T("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")))}n.establishStackSpace=function(e,t){Ut(e,t),Nt(e)},n.invokeEntryPoint=function(e,t){return Bt.apply(null,[e,t])},ve=b?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:E?function(){return performance.now()-n.__performance_now_clock_drift}:function(){return performance.now()};var Ae=[null,[],[]],xe={};function Se(e,t,n){return E?Ce(2,1,e,t,n):0}function Me(e,t,n){return E?Ce(3,1,e,t,n):0}function Ie(e,t,n){if(E)return Ce(4,1,e,t,n)}function ke(){if(E)return Ce(5,1);le()}var Te=[];function De(e){if(E)return Ce(6,1,e);D=!1,ne=0,zt(e)}function Ce(e,t){for(var n=arguments.length-2,r=Rt(),a=jt(8*n),o=a>>3,i=0;i<n;i++)H[o+i]=arguments[2+i];return n=St(e,n,a,t),Nt(r),n}var Oe=[],Fe=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function Re(e){return e=2<e?V(e):e,Fe[e]||("undefined"!=typeof document?document.querySelector(e):void 0)}function Ne(e,t,n){var r=Re(e);if(!r)return-4;if(r.Ia&&(q[r.Ia>>2]=t,q[r.Ia+4>>2]=n),!r.Xa&&r.yb){if(r.Ia){r=q[r.Ia+8>>2],e=e?V(e):"";var a=Rt(),o=jt(12),i=0;if(e){i=Q(e)+1;var s=wt(i);z(e,L,s,i),i=s}return q[o>>2]=i,q[o+4>>2]=t,q[o+8>>2]=n,Mt(0,r,657457152,0,i,o),Nt(a),1}return-4}return r.Xa&&(r=r.Xa),e=!1,r.Ha&&r.Ha.Ga&&(e=0===(e=r.Ha.Ga.getParameter(2978))[0]&&0===e[1]&&e[2]===r.width&&e[3]===r.height),r.width=t,r.height=n,e&&r.Ha.Ga.viewport(0,0,t,n),0}function je(e,t,n){return E?Ce(7,1,e,t,n):Ne(e,t,n)}function Ue(e,t){if(!R)if(t)e();else{try{e()}catch(e){if(e instanceof Gt)return;if("unwind"!==e)throw e&&"object"==typeof e&&e.stack&&T("exception thrown: "+[e,e.stack]),e}if(E&&!re())try{E?Tt(F):zt(F)}catch(e){if(!(e instanceof Gt))throw e}}}var Pe,Le=[];function Be(e,t){W[e>>2]=t,W[e+4>>2]=t/4294967296|0}function qe(e,t,n,r,a){function o(t){var n=0,r=0;t&&(r=w.response?w.response.byteLength:0,n=wt(r),L.set(new Uint8Array(w.response),n)),W[e+12>>2]=n,Be(e+16,r)}var i=W[e+8>>2];if(i){var s=V(i),u=e+112,c=V(u);c||(c="GET");var f=W[u+52>>2],l=W[u+56>>2],d=!!W[u+60>>2],p=W[u+68>>2],m=W[u+72>>2];i=W[u+76>>2];var h=W[u+80>>2],_=W[u+84>>2];u=W[u+88>>2];var y=!!(1&f),v=!!(2&f);f=!!(64&f),p=p?V(p):void 0,m=m?V(m):void 0;var g=h?V(h):void 0,w=new XMLHttpRequest;if(w.withCredentials=d,w.open(c,s,!f,p,m),f||(w.timeout=l),w.vb=s,w.responseType="arraybuffer",h&&w.overrideMimeType(g),i)for(;(c=W[i>>2])&&(s=W[i+4>>2]);)i+=8,c=V(c),s=V(s),w.setRequestHeader(c,s);Le.push(w),W[e+0>>2]=Le.length,i=_&&u?L.slice(_,_+u):null,w.onload=function(r){o(y&&!v);var a=w.response?w.response.byteLength:0;Be(e+24,0),a&&Be(e+32,a),B[e+40>>1]=w.readyState,B[e+42>>1]=w.status,w.statusText&&z(w.statusText,L,e+44,64),200<=w.status&&300>w.status?t&&t(e,w,r):n&&n(e,w,r)},w.onerror=function(t){o(y);var r=w.status;Be(e+24,0),Be(e+32,w.response?w.response.byteLength:0),B[e+40>>1]=w.readyState,B[e+42>>1]=r,n&&n(e,w,t)},w.ontimeout=function(t){n&&n(e,w,t)},w.onprogress=function(t){var n=y&&v&&w.response?w.response.byteLength:0,a=0;y&&v&&(a=wt(n),L.set(new Uint8Array(w.response),a)),W[e+12>>2]=a,Be(e+16,n),Be(e+24,t.loaded-n),Be(e+32,t.total),B[e+40>>1]=w.readyState,3<=w.readyState&&0===w.status&&0<t.loaded&&(w.status=200),B[e+42>>1]=w.status,w.statusText&&z(w.statusText,L,e+44,64),r&&r(e,w,t),a&&gt(a)},w.onreadystatechange=function(t){B[e+40>>1]=w.readyState,2<=w.readyState&&(B[e+42>>1]=w.status),a&&a(e,w,t)};try{w.send(i)}catch(t){n&&n(e,w,t)}}else n(e,0,"no url specified!")}function We(e,t,n,r){var a=Pe;if(a){var o=W[e+112+64>>2];o||(o=W[e+8>>2]);var i=V(o);try{var s=a.transaction(["FILES"],"readwrite").objectStore("FILES").put(t,i);s.onsuccess=function(){B[e+40>>1]=4,B[e+42>>1]=200,z("OK",L,e+44,64),n(e,0,i)},s.onerror=function(t){B[e+40>>1]=4,B[e+42>>1]=413,z("Payload Too Large",L,e+44,64),r(e,0,t)}}catch(t){r(e,0,t)}}else r(e,0,"IndexedDB not available!")}var He,Ye=["default","low-power","high-performance"],Ge={};function Ve(){if(!He){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(e in Ge)void 0===Ge[e]?delete t[e]:t[e]=Ge[e];var n=[];for(e in t)n.push(e+"="+t[e]);He=n}return He}function ze(e,t){if(E)return Ce(8,1,e,t);var n=0;return Ve().forEach((function(r,a){var o=t+n;for(a=q[e+4*a>>2]=o,o=0;o<r.length;++o)P[a++>>0]=r.charCodeAt(o);P[a>>0]=0,n+=r.length+1})),0}function Qe(e,t){if(E)return Ce(9,1,e,t);var n=Ve();q[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),q[t>>2]=r,0}function Ke(e){return E?Ce(10,1,e):0}function Xe(e,t,n,r){return E?Ce(11,1,e,t,n,r):(e=xe.Bb(e),t=xe.Ab(e,t,n),q[r>>2]=t,0)}function Je(e,t,n,r,a){if(E)return Ce(12,1,e,t,n,r,a)}function Ze(e,t,n,r){if(E)return Ce(13,1,e,t,n,r);for(var a=0,o=0;o<n;o++){for(var i=q[t+8*o>>2],s=q[t+(8*o+4)>>2],u=0;u<s;u++){var c=L[i+u],f=Ae[e];0===c||10===c?((1===e?k:T)(G(f,0)),f.length=0):f.push(c)}a+=s}return q[r>>2]=a,0}function $e(e){return 0==e%4&&(0!=e%100||0==e%400)}function et(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}var tt=[31,29,31,30,31,30,31,31,30,31,30,31],nt=[31,28,31,30,31,30,31,31,30,31,30,31];function rt(e,t){for(e=new Date(e.getTime());0<t;){var n=e.getMonth(),r=($e(e.getFullYear())?tt:nt)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return e}function at(e){try{e()}catch(e){le(e)}}var ot=0,it=null,st=0,ut=[],ct={},ft={},lt=0,dt=null,pt=[],mt=[];function ht(e){var t,r={};for(t in e)!function(t){var a=e[t];r[t]="function"==typeof a?function(){ut.push(t);try{return a.apply(null,arguments)}finally{if(!R){var e=ut.pop();N(e===t),it&&1===ot&&0===ut.length&&(ne+=1,ot=0,at(n._asyncify_stop_unwind),"undefined"!=typeof Fibers&&Fibers.Kb(),dt&&(dt(),dt=null))}}}:a}(t);return r}E||(function(e,t){try{var n=indexedDB.open("emscripten_filesystem",1)}catch(e){return void t()}n.onupgradeneeded=function(e){(e=e.target.result).objectStoreNames.contains("FILES")&&e.deleteObjectStore("FILES"),e.createObjectStore("FILES")},n.onsuccess=function(e){!function(e){Pe=e,fe()}(e.target.result)},n.onerror=function(e){t()}}(0,(function(){Pe=!1,fe()})),"undefined"!=typeof ENVIRONMENT_IS_FETCH_WORKER&&ENVIRONMENT_IS_FETCH_WORKER||ce());var _t=[null,function(e,t){if(E)return Ce(1,1,e,t)},Se,Me,Ie,ke,De,je,ze,Qe,Ke,Xe,Je,Ze],yt={c:function(e,t,n,r){le("Assertion failed: "+V(e)+", at: "+[t?V(t):"unknown filename",n,r?V(r):"unknown function"])},E:function(e,t){vt(e,t)},o:function(e,t){ge.Sa.push((function(){Lt.apply(null,[e,t])}))},L:function(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return T("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!e)return T("pthread_create called with a null thread pointer!"),28;var a=[];if(E&&0===a.length)return At(687865856,e,t,n,r);var o=0,i=0;if(t&&-1!=t){var s=q[t>>2];s+=81920,o=q[t+8>>2],i=0!==q[t+12>>2]}else s=2097152;(t=0==o)?o=Pt(16,s):N(0<(o-=s));for(var u=wt(228),c=0;57>c;++c)W[(u>>2)+c]=0;return q[e>>2]=u,q[u+12>>2]=u,q[(e=u+152)>>2]=e,n={Aa:o,Ba:s,Oa:t,detached:i,nb:n,Ja:u,Da:r,ub:a},E?(n.xb="spawnThread",postMessage(n,a),0):we(n)},J:function(e){throw E?ge.$a(e):(ge.Ya(),zt(e)),"unwind"},K:function(e,t){return function(e,t){if(!e)return T("pthread_join attempted on a null thread pointer!"),71;if(E&&kt()==e)return T("PThread "+e+" is attempting to join to itself!"),16;if(!E&&Et()==e)return T("Main thread "+e+" is attempting to join to itself!"),16;if(q[e+12>>2]!==e)return T("pthread_join attempted on thread "+e+", which does not point to a valid thread, or does not exist anymore!"),71;if(Atomics.load(W,e+64>>2))return T("Attempted to join thread "+e+", which was already detached!"),28;for(Ee();;){var n=Atomics.load(W,e>>2);if(1==n)return n=Atomics.load(W,e+4>>2),t&&(q[t>>2]=n),Atomics.store(W,e+64>>2,1),E?postMessage({cmd:"cleanupThread",thread:e}):ye(e),0;It(),E||xt(),be(e,n,E?100:1)}}(e,t)},h:Se,x:Me,y:Ie,P:function(e){delete Le[e-1]},O:function(e,t){if(e==t)postMessage({cmd:"processQueuedMainThreadWork"});else if(E)postMessage({targetThread:e,cmd:"processThreadQueue"});else{if(!(e=(e=ge.wa[e])&&e.worker))return;e.postMessage({cmd:"processThreadQueue"})}return 1},b:ke,D:function(e,t){if(0===e)e=Date.now();else{if(1!==e&&4!==e)return q[Ct()>>2]=28,-1;e=ve()}return q[t>>2]=e/1e3|0,q[t+4>>2]=e%1e3*1e6|0,0},m:function(e,t,n){var r;for(Te.length=0,n>>=2;r=L[t++];)(r=105>r)&&1&n&&n++,Te.push(r?H[n++>>1]:q[n]),++n;return me[e].apply(null,Te)},C:Ee,l:function(){},p:De,d:be,e:_e,f:ve,s:function(e,t,n){L.copyWithin(e,t,t+n)},G:function(e,t,n){Oe.length=t,n>>=3;for(var r=0;r<t;r++)Oe[r]=H[n+r];return(0>e?me[-e-1]:_t[e]).apply(null,Oe)},t:function(){le("OOM")},H:function(e,t,n){return Re(e)?Ne(e,t,n):je(e,t,n)},k:function(){},F:function(){},N:function(e,t,n){return ne+=1,setTimeout((function(){--ne,Ue((function(){Lt.apply(null,[e,n])}))}),t)},n:function(e,t,n,r,a){function o(e,n){We(e,n.response,(function(e){--ne,Ue((function(){d?Lt.apply(null,[d,e]):t&&t(e)}),w)}),(function(e){--ne,Ue((function(){d?Lt.apply(null,[d,e]):t&&t(e)}),w)}))}function i(e){Ue((function(){h?Lt.apply(null,[h,e]):a&&a(e)}),w)}function s(e){--ne,Ue((function(){p?Lt.apply(null,[p,e]):n&&n(e)}),w)}function u(e){Ue((function(){m?Lt.apply(null,[m,e]):r&&r(e)}),w)}function c(e){--ne,Ue((function(){d?Lt.apply(null,[d,e]):t&&t(e)}),w)}ne+=1;var f=e+112,l=V(f),d=W[f+36>>2],p=W[f+40>>2],m=W[f+44>>2],h=W[f+48>>2],_=W[f+52>>2],y=!!(4&_),v=!!(32&_),g=!!(16&_),w=!!(64&_);if("EM_IDB_STORE"===l)l=W[f+84>>2],We(e,L.slice(l,l+W[f+88>>2]),c,s);else if("EM_IDB_DELETE"===l)!function(e,t,n){var r=Pe;if(r){var a=W[e+112+64>>2];a||(a=W[e+8>>2]),a=V(a);try{var o=r.transaction(["FILES"],"readwrite").objectStore("FILES").delete(a);o.onsuccess=function(n){n=n.target.result,W[e+12>>2]=0,Be(e+16,0),Be(e+24,0),Be(e+32,0),B[e+40>>1]=4,B[e+42>>1]=200,z("OK",L,e+44,64),t(e,0,n)},o.onerror=function(t){B[e+40>>1]=4,B[e+42>>1]=404,z("Not Found",L,e+44,64),n(e,0,t)}}catch(t){n(e,0,t)}}else n(e,0,"IndexedDB not available!")}(e,c,s);else if(g){if(v)return 0;qe(e,y?o:c,s,u,i)}else!function(e,t,n){var r=Pe;if(r){var a=W[e+112+64>>2];a||(a=W[e+8>>2]),a=V(a);try{var o=r.transaction(["FILES"],"readonly").objectStore("FILES").get(a);o.onsuccess=function(r){if(r.target.result){var a=(r=r.target.result).byteLength||r.length,o=wt(a);L.set(new Uint8Array(r),o),W[e+12>>2]=o,Be(e+16,a),Be(e+24,0),Be(e+32,a),B[e+40>>1]=4,B[e+42>>1]=200,z("OK",L,e+44,64),t(e,0,r)}else B[e+40>>1]=4,B[e+42>>1]=404,z("Not Found",L,e+44,64),n(e,0,"no data")},o.onerror=function(t){B[e+40>>1]=4,B[e+42>>1]=404,z("Not Found",L,e+44,64),n(e,0,t)}}catch(t){n(e,0,t)}}else n(e,0,"IndexedDB not available!")}(e,c,v?s:y?function(e){qe(e,o,s,u,i)}:function(e){qe(e,c,s,u,i)});return e},r:function(){return function(e){if(!R){if(0===ot){var t=!1,r=!1;e((function(e){if(!R&&(st=e||0,t=!0,r)){ot=2,at((function(){n._asyncify_start_rewind(it)})),"undefined"!=typeof Browser&&Browser.Qa.Va&&Browser.Qa.resume();var a=function(){var e=n.asm[ft[q[it+8>>2]]];return--ne,e()}();it||(e=pt,pt=[],e.forEach((function(e){e(a)})))}})),r=!0,t||(ot=1,it=function(){var e=wt(4108),t=e+12;q[e>>2]=t,q[e+4>>2]=t+4096,t=ut[0];var n=ct[t];return void 0===n&&(n=lt++,ct[t]=n,ft[n]=t),q[e+8>>2]=n,e}(),at((function(){n._asyncify_start_unwind(it)})),"undefined"!=typeof Browser&&Browser.Qa.Va&&Browser.Qa.pause())}else 2===ot?(ot=0,at(n._asyncify_stop_rewind),gt(it),it=null,mt.forEach((function(e){Ue(e)}))):le("invalid state: "+ot);return st}}((function(e){(async()=>{var e=await n.queue.get();const t=Q(e)+1,r=wt(t);return z(e,L,r,t),r})().then(e)}))},I:function(e,t){return t={alpha:!!q[t>>=2],depth:!!q[t+1],stencil:!!q[t+2],antialias:!!q[t+3],premultipliedAlpha:!!q[t+4],preserveDrawingBuffer:!!q[t+5],powerPreference:Ye[q[t+6]],failIfMajorPerformanceCaveat:!!q[t+7],jb:q[t+8],Eb:q[t+9],Ua:q[t+10],cb:q[t+11],Gb:q[t+12],Hb:q[t+13]},!(e=Re(e))||t.cb?0:function(e,t){e.Wa||(e.Wa=e.getContext,e.getContext=function(t,n){return"webgl"==t==(n=e.Wa(t,n))instanceof WebGLRenderingContext?n:null});var n=e.getContext("webgl",t);return n?function(e,t){var n=wt(8);q[n+4>>2]=kt();var r={Cb:n,attributes:t,version:t.jb,Ga:e};return e.canvas&&(e.canvas.Ha=r),(void 0===t.Ua||t.Ua)&&function(e){if(e||(e=void 0),!e.fb){e.fb=!0;var t=e.Ga;!function(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(e,n){t.vertexAttribDivisorANGLE(e,n)},e.drawArraysInstanced=function(e,n,r,a){t.drawArraysInstancedANGLE(e,n,r,a)},e.drawElementsInstanced=function(e,n,r,a,o){t.drawElementsInstancedANGLE(e,n,r,a,o)})}(t),function(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)})}(t),function(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(e,n){t.drawBuffersWEBGL(e,n)})}(t),t.zb=t.getExtension("EXT_disjoint_timer_query"),t.Fb=t.getExtension("WEBGL_multi_draw"),(t.getSupportedExtensions()||[]).forEach((function(e){e.includes("lose_context")||e.includes("debug")||t.getExtension(e)}))}}(r),n}(n,t):0}(e,t)},v:ze,w:Qe,g:function(e){zt(e)},i:Ke,A:Xe,q:Je,z:Ze,M:function(){ge.gb()},a:C||n.wasmMemory,B:function(){n.pauseQueue()},u:function(e,t,n,r){return function(e,t,n,r){function a(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){e=rt(new Date(e.U+1900,0,1),e.Na);var t=new Date(e.getFullYear()+1,0,4),n=s(new Date(e.getFullYear(),0,4));return t=s(t),0>=i(n,e)?0>=i(t,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=q[r+40>>2];for(var f in r={sb:q[r>>2],rb:q[r+4>>2],La:q[r+8>>2],Fa:q[r+12>>2],Ca:q[r+16>>2],U:q[r+20>>2],Ma:q[r+24>>2],Na:q[r+28>>2],Jb:q[r+32>>2],qb:q[r+36>>2],tb:c?V(c):""},n=V(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(f,"g"),c[f]);var l="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(f in c={"%a":function(e){return l[e.Ma].substring(0,3)},"%A":function(e){return l[e.Ma]},"%b":function(e){return d[e.Ca].substring(0,3)},"%B":function(e){return d[e.Ca]},"%C":function(e){return o((e.U+1900)/100|0,2)},"%d":function(e){return o(e.Fa,2)},"%e":function(e){return a(e.Fa,2," ")},"%g":function(e){return u(e).toString().substring(2)},"%G":function(e){return u(e)},"%H":function(e){return o(e.La,2)},"%I":function(e){return 0==(e=e.La)?e=12:12<e&&(e-=12),o(e,2)},"%j":function(e){return o(e.Fa+et($e(e.U+1900)?tt:nt,e.Ca-1),3)},"%m":function(e){return o(e.Ca+1,2)},"%M":function(e){return o(e.rb,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.La&&12>e.La?"AM":"PM"},"%S":function(e){return o(e.sb,2)},"%t":function(){return"\t"},"%u":function(e){return e.Ma||7},"%U":function(e){var t=new Date(e.U+1900,0,1),n=0===t.getDay()?t:rt(t,7-t.getDay());return 0>i(n,e=new Date(e.U+1900,e.Ca,e.Fa))?o(Math.ceil((31-n.getDate()+(et($e(e.getFullYear())?tt:nt,e.getMonth()-1)-31)+e.getDate())/7),2):0===i(n,t)?"01":"00"},"%V":function(e){var t=new Date(e.U+1901,0,4),n=s(new Date(e.U+1900,0,4));t=s(t);var r=rt(new Date(e.U+1900,0,1),e.Na);return 0>i(r,n)?"53":0>=i(t,r)?"01":o(Math.ceil((n.getFullYear()<e.U+1900?e.Na+32-n.getDate():e.Na+1-n.getDate())/7),2)},"%w":function(e){return e.Ma},"%W":function(e){var t=new Date(e.U,0,1),n=1===t.getDay()?t:rt(t,0===t.getDay()?1:7-t.getDay()+1);return 0>i(n,e=new Date(e.U+1900,e.Ca,e.Fa))?o(Math.ceil((31-n.getDate()+(et($e(e.getFullYear())?tt:nt,e.getMonth()-1)-31)+e.getDate())/7),2):0===i(n,t)?"01":"00"},"%y":function(e){return(e.U+1900).toString().substring(2)},"%Y":function(e){return e.U+1900},"%z":function(e){var t=0<=(e=e.qb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.tb},"%%":function(){return"%"}})n.includes(f)&&(n=n.replace(new RegExp(f,"g"),c[f](r)));return f=function(e){var t=Array(Q(e)+1);return z(e,t,0,t.length),t}(n),f.length>t?0:(P.set(f,e),f.length-1)}(e,t,n,r)},j:function(){n.unpauseQueue()}};!function(){function e(e,t){e=ht(e=e.exports),n.asm=e,$.unshift(n.asm.Q),ge.Ta.push(n.asm.T),O=t,E||fe()}function t(t){e(t.instance,t.module)}function r(e){return(I||!g&&!w||"function"!=typeof fetch?Promise.resolve().then((function(){return pe()})):fetch(oe,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+oe+"'";return e.arrayBuffer()})).catch((function(){return pe()}))).then((function(e){return WebAssembly.instantiate(e,o)})).then(e,(function(e){T("failed to asynchronously prepare wasm: "+e),le(e)}))}var o={a:yt};if(E||ce(),n.instantiateWasm)try{return ht(n.instantiateWasm(o,e))}catch(e){return T("Module.instantiateWasm callback failed with error: "+e),!1}(I||"function"!=typeof WebAssembly.instantiateStreaming||de()||"function"!=typeof fetch?r(t):fetch(oe,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,o).then(t,(function(e){return T("wasm streaming compile failed: "+e),T("falling back to ArrayBuffer instantiation"),r(t)}))}))).catch(a)}(),n.___wasm_call_ctors=function(){return(n.___wasm_call_ctors=n.asm.Q).apply(null,arguments)};var vt=n._main=function(){return(vt=n._main=n.asm.R).apply(null,arguments)},gt=n._free=function(){return(gt=n._free=n.asm.S).apply(null,arguments)};n._emscripten_tls_init=function(){return(n._emscripten_tls_init=n.asm.T).apply(null,arguments)};var wt=n._malloc=function(){return(wt=n._malloc=n.asm.V).apply(null,arguments)};n._emscripten_current_thread_process_queued_calls=function(){return(n._emscripten_current_thread_process_queued_calls=n.asm.W).apply(null,arguments)};var bt=n._emscripten_register_main_browser_thread_id=function(){return(bt=n._emscripten_register_main_browser_thread_id=n.asm.X).apply(null,arguments)},Et=n._emscripten_main_browser_thread_id=function(){return(Et=n._emscripten_main_browser_thread_id=n.asm.Y).apply(null,arguments)},At=n._emscripten_sync_run_in_main_thread_4=function(){return(At=n._emscripten_sync_run_in_main_thread_4=n.asm.Z).apply(null,arguments)},xt=n._emscripten_main_thread_process_queued_calls=function(){return(xt=n._emscripten_main_thread_process_queued_calls=n.asm._).apply(null,arguments)},St=n._emscripten_run_in_main_runtime_thread_js=function(){return(St=n._emscripten_run_in_main_runtime_thread_js=n.asm.$).apply(null,arguments)},Mt=n.__emscripten_call_on_thread=function(){return(Mt=n.__emscripten_call_on_thread=n.asm.aa).apply(null,arguments)};n._emscripten_proxy_main=function(){return(n._emscripten_proxy_main=n.asm.ba).apply(null,arguments)};var It=n._pthread_testcancel=function(){return(It=n._pthread_testcancel=n.asm.ca).apply(null,arguments)},kt=n._pthread_self=function(){return(kt=n._pthread_self=n.asm.da).apply(null,arguments)},Tt=n._pthread_exit=function(){return(Tt=n._pthread_exit=n.asm.ea).apply(null,arguments)},Dt=n.__emscripten_thread_init=function(){return(Dt=n.__emscripten_thread_init=n.asm.fa).apply(null,arguments)},Ct=n.___errno_location=function(){return(Ct=n.___errno_location=n.asm.ga).apply(null,arguments)},Ot=n._emscripten_get_global_libc=function(){return(Ot=n._emscripten_get_global_libc=n.asm.ha).apply(null,arguments)},Ft=n.___pthread_tsd_run_dtors=function(){return(Ft=n.___pthread_tsd_run_dtors=n.asm.ia).apply(null,arguments)},Rt=n.stackSave=function(){return(Rt=n.stackSave=n.asm.ja).apply(null,arguments)},Nt=n.stackRestore=function(){return(Nt=n.stackRestore=n.asm.ka).apply(null,arguments)},jt=n.stackAlloc=function(){return(jt=n.stackAlloc=n.asm.la).apply(null,arguments)},Ut=n._emscripten_stack_set_limits=function(){return(Ut=n._emscripten_stack_set_limits=n.asm.ma).apply(null,arguments)},Pt=n._memalign=function(){return(Pt=n._memalign=n.asm.na).apply(null,arguments)},Lt=n.dynCall_vi=function(){return(Lt=n.dynCall_vi=n.asm.oa).apply(null,arguments)},Bt=n.dynCall_ii=function(){return(Bt=n.dynCall_ii=n.asm.pa).apply(null,arguments)},qt=n.dynCall_v=function(){return(qt=n.dynCall_v=n.asm.qa).apply(null,arguments)};n._asyncify_start_unwind=function(){return(n._asyncify_start_unwind=n.asm.ra).apply(null,arguments)},n._asyncify_stop_unwind=function(){return(n._asyncify_stop_unwind=n.asm.sa).apply(null,arguments)},n._asyncify_start_rewind=function(){return(n._asyncify_start_rewind=n.asm.ta).apply(null,arguments)},n._asyncify_stop_rewind=function(){return(n._asyncify_stop_rewind=n.asm.ua).apply(null,arguments)};var Wt,Ht=n.__emscripten_allow_main_runtime_queued_calls=26864,Yt=n.__emscripten_main_thread_futex=1170108;function Gt(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Vt(e){function t(){if(!Wt&&(Wt=!0,n.calledRun=!0,!R)){if(E||he($),E||he(ee),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),Qt){var t=e,a=n._emscripten_proxy_main,o=(t=t||[]).length+1,i=jt(4*(o+1));q[i>>2]=K(p);for(var s=1;s<o;s++)q[(i>>2)+s]=K(t[s-1]);q[(i>>2)+o]=0,a(o,i)}if(!E){if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)t=n.postRun.shift(),te.unshift(t);he(te)}}}if(e=e||d,!(0<ie))if(E)r(n),E||he($),postMessage({cmd:"loaded"});else{if(!E){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)ae();he(Z)}0<ie||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),t()}),1)):t())}}function zt(e){if(F=e,E)throw postMessage({cmd:"exitProcess",returnCode:e}),new Gt(e);re()||ge.Ra(),F=e,re()||(ge.Ra(),n.onExit&&n.onExit(e),R=!0),m(e,new Gt(e))}if(n.keepRuntimeAlive=re,n.PThread=ge,n.PThread=ge,n.wasmMemory=C,n.ExitStatus=Gt,ue=function e(){Wt||Vt(),Wt||(ue=e)},n.run=Vt,n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();var Qt=!0;return n.noInitialRun&&(Qt=!1),E&&(D=!1,ge.hb()),Vt(),t.ready});return"object"==typeof exports&&"object"==typeof module?module.exports=t:"function"==typeof define&&define.amd?define([],(function(){return t})):"object"==typeof exports&&(exports.Stockfish=t),t}"undefined"!=typeof self&&"worker"===self.location.hash.split(",")[1]||"undefined"!=typeof global&&"[object process]"===Object.prototype.toString.call(global.process)&&!require("worker_threads").isMainThread?function(){"use strict";var e={};if("object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node){var t=require("worker_threads"),n=t.parentPort;n.on("message",(function(e){onmessage({data:e})}));var r=require("fs");Object.assign(global,{self:global,require,Module:e,location:{href:__filename},Worker:t.Worker,importScripts:function(e){(0,eval)(r.readFileSync(e,"utf8"))},postMessage:function(e){n.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var a=function(){var e=Array.prototype.slice.call(arguments).join(" ");console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=function(t,n){var r=new WebAssembly.Instance(e.wasmModule,t);return n(r),e.wasmModule=null,r.exports},self.onmessage=function(t){try{if("load"===t.data.cmd)e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,(Stockfish=INIT_ENGINE())(e).then((function(t){e=t}));else if("objectTransfer"===t.data.cmd)e.PThread.receiveObjectTransfer(t.data);else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.threadInfoStruct,0,0);var n=t.data.stackBase,r=t.data.stackBase+t.data.stackSize;e.establishStackSpace(r,n),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInit();try{var o=e.invokeEntryPoint(t.data.start_routine,t.data.arg);e.keepRuntimeAlive()?e.PThread.setExitStatus(o):e.PThread.threadExit(o)}catch(t){if("Canceled!"===t)e.PThread.threadCancel();else if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw e.PThread.threadExit(-2),t;e.keepRuntimeAlive()||e.PThread.threadExit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.PThread.threadCancel():"setimmediate"===t.data.target||("processThreadQueue"===t.data.cmd?e._pthread_self()&&e._emscripten_current_thread_process_queued_calls():(a("worker.js received unknown command "+t.data.cmd),a(t.data)))}catch(e){throw a("worker.js onmessage() captured an uncaught exception: "+e),e&&e.stack&&a(e.stack),e}};const o=self.onmessage;onmessage=self.onmessage=t=>{"custom"===t.data.cmd?"function"==typeof e.onCustomMessage&&e.onCustomMessage(t.data.userData):o(t)}}():"undefined"!=typeof onmessage&&("undefined"==typeof window||void 0===window.document)||"undefined"!=typeof global&&"[object process]"===Object.prototype.toString.call(global.process)?function(){var e,t,n,r,a="undefined"!=typeof global&&"[object process]"===Object.prototype.toString.call(global.process),o=[];a?require.main===module?(r=require("path").join(__dirname,"stockfish.wasm"),e={locateFile:function(e){return e.indexOf(".wasm")>-1?r:__filename}},(Stockfish=INIT_ENGINE())(e).then((function(e){t=e,e.addMessageListener((function(e){console.log(e)})),o.length&&o.forEach((function(t){e.postMessage(t,!0)})),o=null})),require("readline").createInterface({input:process.stdin,output:process.stdout,completer:function(e){var t=["binc ","btime ","confidence ","depth ","infinite ","mate ","maxdepth ","maxtime ","mindepth ","mintime ","moves ","movestogo ","movetime ","ponder ","searchmoves ","shallow ","winc ","wtime "];function n(t){return 0===t.indexOf(e)}var r=["compiler","d","eval","exit","flip","go ","isready ","ponderhit ","position fen ","position startpos","position startpos moves","quit","setoption name Clear Hash value true","setoption name Contempt value ","setoption name Hash value ","setoption name Minimum Thinking Time value ","setoption name Move Overhead value ","setoption name MultiPV value ","setoption name Ponder value ","setoption name Skill Level value ","setoption name Slow Mover value ","setoption name Threads value ","setoption name UCI_Chess960 value false","setoption name UCI_Chess960 value true","setoption name UCI_AnalyseMode value true","setoption name UCI_AnalyseMode value false","setoption name UCI_LimitStrength value true","setoption name UCI_LimitStrength value false","setoption name UCI_Elo value ","setoption name UCI_ShowWDL value true","setoption name UCI_ShowWDL value false","setoption name Use NNUE value true","setoption name Use NNUE value false","setoption name nodestime value ","setoption name EvalFile value ","stop","uci","ucinewgame"].filter(n);return r.length||(r=(e=e.replace(/^.*\s/,""))?t.filter(n):t),[r,e]},historySize:100}).on("line",(function(e){e&&("quit"!==e&&"exit"!==e||process.exit(),t?t.postMessage(e,!0):o.push(e))})).on("close",(function(){process.exit()})).setPrompt("")):module.exports=INIT_ENGINE:(n=self.location.hash.substr(1).split(","),r=decodeURIComponent(n[0]||"stockfish.wasm"),e={locateFile:function(e){return e.indexOf(".wasm")>-1?r:self.location.origin+self.location.pathname+"#"+r+",worker"}},(Stockfish=INIT_ENGINE())(e).then((function(e){t=e,e.addMessageListener((function(e){postMessage(e)})),o.length&&o.forEach((function(t){e.postMessage(t,!0)})),o=null})).catch((function(e){setTimeout((function(){throw e}),1)})),onmessage||(onmessage=function(e){t?t.postMessage(e.data,!0):o.push(e.data)}))}():Stockfish=INIT_ENGINE();